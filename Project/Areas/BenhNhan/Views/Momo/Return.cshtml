@using System.Globalization
@{
    ViewData["Title"] = "Kết quả thanh toán";
    Layout = "~/Views/Shared/_VnpayReturn.cshtml";
}

<div class="absolute inset-0">
    <img src="~/Public/assets/images/auth/bg-gradient.png" alt="image" class="h-full w-full object-cover">
</div>

<div
    class="relative flex min-h-screen items-center justify-center bg-[url(../images/auth/map.png)] bg-cover bg-center bg-no-repeat px-6 py-10 dark:bg-[#060818] sm:px-16">
    <div class="relative w-full max-w-[600px] rounded-md p-2">
        <div class="mx-auto w-full max-w-[600px] text-center">
            <div class="mb-10">
                @if (ViewBag.Message != null)
                {
                    <h1 class="text-3xl uppercase !leading-snug md:text-4xl font-black mb-4"
                        style="font-weight: 900;background: linear-gradient(to right, #ef4444, #b91c1c); -webkit-background-clip: text; background-clip: text; color: transparent; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);">
                        Thanh toán thất bại
                    </h1>
                    <p class="text-base font-bold leading-normal text-red-600 mb-8">
                        @ViewBag.Message
                    </p>
                }
                else
                {
                    <h1 class="text-3xl uppercase !leading-snug md:text-4xl font-black mb-4"
                        style="font-weight: 900;background: linear-gradient(to right, #22c55e, #16a34a); -webkit-background-clip: text; background-clip: text; color: transparent; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);">
                        Thanh toán thành công
                    </h1>
                    <img src="~/Public/assets/images/credit-card-accepted.png" alt="Thanh toán thành công"
                        class="mx-auto object-cover max-w-[160px] mb-5">
                    <p class="text-base font-bold leading-normal text-gray-800 mb-4">
                        Bạn đã thanh toán cho mã phiếu thanh toán <span style="color:#2563eb">@ViewBag.PaymentCode</span>
                        thành công với số tiền <span style="color:#22c55e">
                            @String.Format(new CultureInfo("vi-VN"), "{0:N0}", Convert.ToDecimal(ViewBag.Amount))
                        </span> VNĐ
                    </p>
                    <p class="text-base font-bold leading-normal text-gray-700 mb-8">
                        Cảm ơn bạn đã sử dụng dịch vụ của bệnh viện chúng tôi. Chúc bạn nhiều sức khỏe và bình an!
                    </p>
                }
                <a href="/benh-nhan"
                    class="btn btn-gradient border-0 uppercase shadow-[0_10px_20px_-10px_rgba(67,97,238,0.44)]"
                    style="min-width: 180px; max-width: 100%; display: inline-block; font-size: 1rem; padding: 0.75rem 2rem;">
                    Quay về trang chủ
                </a>
            </div>
        </div>
    </div>
</div>
</div>

<script>
    document.getElementById('footer-year').textContent = new Date().getFullYear();
</script>